<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>E-CORP SECURITY TERMINAL</title>
<link rel="icon" type="image/x-icon" href="./favicon.ico">
<script>
(function() {
    try {
        const safeAlert = function(msg) {
            console.group("%c‚ö†Ô∏è [BROWSER INTERCEPT]", "background: #c00; color: white; padding: 2px 6px; border-radius: 3px; font-weight: bold;");
            console.log(`%cPopup Content: "${msg}"`, "color: #ff9999; font-size: 14px;");
            console.log("%c(Native window suppressed)", "color: gray; font-style: italic;");
            console.groupEnd();
            return true;
        };
        Object.defineProperty(window, 'alert', { value: safeAlert, writable: false });
        Object.defineProperty(window, 'confirm', { value: () => true, writable: false });
        Object.defineProperty(window, 'prompt', { value: () => "admin", writable: false });
        console.log("%cüõ°Ô∏è Anti-Popup System Active", "color: green; font-weight: bold;");
    } catch (e) {
        console.error("Anti-Popup failed:", e);
    }
})();
</script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

    body {
        background-color: #050505;
        margin: 0;
        height: 100vh;
        overflow: hidden;
        font-family: 'Share Tech Mono', monospace;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: #e0e0e0;
    }

    /* CRT –µ—Ñ–µ–∫—Ç */
    body::after {
        content: " ";
        display: block;
        position: absolute;
        top: 0; left: 0; bottom: 0; right: 0;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
        z-index: 10; /* –ü—ñ–¥–Ω—è–≤ –≤–∏—â–µ, —â–æ–± –ø–æ–∫—Ä–∏–≤–∞–≤ –æ–±–∏–¥–≤–∞ –≤—ñ–∫–Ω–∞ */
        background-size: 100% 2px, 3px 100%;
        pointer-events: none;
    }

    /* --- –ù–û–í–ò–ô –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –î–í–û–• –í–Ü–ö–û–ù --- */
    .main-console-wrapper {
        display: flex;
        gap: 20px;
        align-items: flex-start;
        z-index: 3;
    }

    /* HUD Panel - —Ä–æ–∑—à–∏—Ä–∏–≤ —à–∏—Ä–∏–Ω—É */
    .hud-panel {
        width: 1200px;
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-bottom: 10px;
        z-index: 3;
        text-transform: uppercase;
    }

    .server-status-container {
        display: flex;
        gap: 15px;
    }

    .status-node {
        background: #1a1a1a;
        border: 1px solid #333;
        padding: 5px 10px;
        min-width: 80px;
        text-align: center;
        font-size: 12px;
        color: #555;
        transition: all 0.5s ease;
        box-shadow: 0 0 5px rgba(0,0,0,0.5);
    }

    .status-node.active {
        border-color: #fce94f;
        color: #fce94f;
        box-shadow: 0 0 8px rgba(252, 233, 79, 0.3);
    }

    .status-node.hacked {
        border-color: #00ff41;
        background: #001a05;
        color: #00ff41;
        box-shadow: 0 0 10px #00ff41;
        text-shadow: 0 0 5px #00ff41;
    }

    .corp-logo {
        font-size: 24px;
        font-weight: bold;
        color: #c00;
        text-shadow: 0 0 10px #c00;
        letter-spacing: 2px;
    }

    /* –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –≤—ñ–∫–Ω–∞ (—Å–ø—ñ–ª—å–Ω–∏–π) */
    .terminal-window {
        height: 600px; /* –¢—Ä–æ—Ö–∏ –∑–±—ñ–ª—å—à–∏–≤ –≤–∏—Å–æ—Ç—É */
        background: #0c0c0c;
        border: 1px solid #333;
        box-shadow: 0 0 30px rgba(0,0,0,0.8);
        display: flex;
        flex-direction: column;
        border-radius: 4px;
        position: relative;
    }

    /* –õ—ñ–≤–µ –≤—ñ–∫–Ω–æ (–ê—Ç–∞–∫–∞) */
    .attack-window {
        width: 750px;
    }

    /* –ü—Ä–∞–≤–µ –≤—ñ–∫–Ω–æ (–ó–∞—Ö–∏—Å—Ç/–õ–æ–≥–∏) - –ù–û–í–ï */
    .defense-window {
        width: 450px;
        border-color: #600; /* –ß–µ—Ä–≤–æ–Ω–∞ —Ä–∞–º–∫–∞ */
        background: #080000;
    }

    .header-bar {
        background: #1c1c1c;
        padding: 6px 15px;
        font-size: 14px;
        color: #666;
        display: flex;
        justify-content: space-between;
        border-bottom: 1px solid #333;
        user-select: none;
    }

    /* –•–µ–¥–µ—Ä –¥–ª—è –ø—Ä–∞–≤–æ–≥–æ –≤—ñ–∫–Ω–∞ */
    .defense-window .header-bar {
        background: #330000;
        color: #ff8888;
        border-bottom-color: #800;
        font-weight: bold;
    }

    .console-output {
        flex-grow: 1;
        padding: 20px;
        overflow-y: auto;
        font-size: 14px;
        line-height: 1.5;
        color: #bbb;
    }

    /* –°—Ç–∏–ª—ñ –¥–ª—è –ª–æ–≥—ñ–≤ —É –ø—Ä–∞–≤–æ–º—É –≤—ñ–∫–Ω—ñ */
    .defense-window .console-output {
        color: #ffaaaa;
        font-size: 12px;
        font-family: monospace;
        padding: 10px;
    }

    .log-entry {
        margin-bottom: 6px;
        border-left: 2px solid #500;
        padding-left: 8px;
        word-wrap: break-word;
    }
    .log-time { color: #884444; margin-right: 5px; font-size: 10px; }
    .log-crit { border-left-color: #f00; background: rgba(50,0,0,0.5); color: #fff; }
    .log-warn { border-left-color: #fa0; color: #fb0; }

    .console-output p { margin: 5px 0; }

    /* Scrollbar Fix */
    .console-output {
        scrollbar-width: thin;
        scrollbar-color: #333 #0c0c0c;
    }
    @media screen and (-webkit-min-device-pixel-ratio:0) {
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #0c0c0c; }
        ::-webkit-scrollbar-thumb { background: #333; border: 1px solid #0c0c0c; }
    }

    .status-line {
        background: #c00;
        color: black;
        font-weight: bold;
        padding: 5px 15px;
        font-size: 12px;
        display: flex;
        justify-content: space-between;
        text-transform: uppercase;
    }

    /* –°—Ç–∞—Ç—É—Å –±–∞—Ä –¥–ª—è –ø—Ä–∞–≤–æ–≥–æ –≤—ñ–∫–Ω–∞ */
    .defense-window .status-line {
        background: #300;
        color: #f00;
        border-top: 1px solid #600;
    }

    code {
        font-family: 'Share Tech Mono', monospace;
        background: #222;
        padding: 2px 6px;
        border: 1px solid #444;
        color: #ff9966;
    }
</style>
</head>
<body>

<div class="hud-panel">
    <div class="server-status-container">
        <div id="node-1" class="status-node">SQL_DB</div>
        <div id="node-2" class="status-node">WEB_SESS</div>
        <div id="node-3" class="status-node">USER_PRIV</div>
        <div id="node-4" class="status-node">SYS_LOGS</div>
    </div>
    <div class="corp-logo">E-CORP GLOBAL</div>
</div>

<div class="main-console-wrapper">
    <div class="terminal-window attack-window">
        <div class="header-bar">
            <span>ROOT@BLACKARCH:~ [ENCRYPTED]</span>
            <span>E-CORP TOOLKIT v8.8</span>
        </div>
        <div class="console-output" id="output">
            <p style="color: #569cd6">Initializing connection...</p>
            <p>Connected to 192.168.1.15.</p>
            <br>
            <p><b>[TASK]</b> –ü—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏ E-CORP.</p>
            <p><b>[GOAL]</b> –û—Ç—Ä–∏–º–∞—Ç–∏ –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ <code>index.html</code>.</p>
            <br>
            <p>> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ <span style="color: #ce9178">Console (F12)</span>.</p>
            <p>> <code>sys.init()</code> ‚Äî –°—Ç–∞—Ä—Ç / –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫.</p>
            <p>> <code>sys.help()</code> ‚Äî –°–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –∫–æ–º–∞–Ω–¥.</p>
            <p>> <code>sys.hint()</code> ‚Äî –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—ñ–¥–∫–∞–∑–∫—É.</p>
            <p>> <code>sys.config_ai('YOUR_KEY')</code> ‚Äî –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Gemini API Key.</p>
            <p>> <code>sys.ask('–ü–∏—Ç–∞–Ω–Ω—è...')</code> ‚Äî –ó–∞–ø–∏—Ç–∞—Ç–∏ –ø–æ—Ä–∞–¥—É –≤ –®–Ü.</p>
        </div>
        <div class="status-line">
            <span id="status-text">IDLE</span>
            <span>SECURE CONNECTION</span>
        </div>
    </div>

    <div class="terminal-window defense-window">
        <div class="header-bar">
            <span>IDS_MONITOR_v4.2 [LIVE]</span>
            <span>SEC_LEVEL: HIGH</span>
        </div>
        <div class="console-output" id="sec-output">
            <div class="log-entry"><span class="log-time">[BOOT]</span> IDS System Initialized...</div>
            <div class="log-entry"><span class="log-time">[BOOT]</span> Monitoring Network Interface: eth0</div>
            <div class="log-entry"><span class="log-time">[BOOT]</span> Waiting for traffic...</div>
        </div>
        <div class="status-line">
            <span>MONITORING ACTIVE</span>
            <span id="real-ip-display">DETECTING...</span>
        </div>
    </div>
</div>

<script>
(function(){
    if (window.__PENTEST_INIT) return;
    window.__PENTEST_INIT = true;

    // --- REAL SECURITY MONITORING SYSTEM (RIGHT WINDOW) ---
    // –¶–µ –¥–æ–¥–∞–Ω–∏–π –º–æ–¥—É–ª—å, —è–∫–∏–π –Ω–µ –∑–∞—á—ñ–ø–∞—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É –ª–æ–≥—ñ–∫—É, –∞ –ø—Ä–∞—Ü—é—î –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ
    const SecMonitor = {
        out: document.getElementById('sec-output'),
        ipDisplay: document.getElementById('real-ip-display'),

        getTime: function() {
            const now = new Date();
            return `[${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}:${now.getSeconds().toString().padStart(2,'0')}]`;
        },

        log: function(title, data, level = 'info') {
            const div = document.createElement('div');
            let cssClass = 'log-entry';
            if (level === 'critical') cssClass += ' log-crit';
            else if (level === 'warning') cssClass += ' log-warn';

            div.className = cssClass;
            div.innerHTML = `<span class="log-time">${this.getTime()}</span> <strong>${title}</strong><br><span style="opacity:0.8">> ${data}</span>`;

            this.out.appendChild(div);
            this.out.scrollTop = this.out.scrollHeight;
        },

       // 1. –ú–µ—Ç–æ–¥ JSONP (–û–±—Ö—ñ–¥ CORS —Ç–∞ AdBlock)
        checkIP: function() {
            this.log("NET_SCAN", "Injecting external script payload (JSONP)...", "warning");

            // 1. –°—Ç–≤–æ—Ä—é—î–º–æ –≥–ª–æ–±–∞–ª—å–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫—É –≤–∏–∫–ª–∏—á–µ —Å–µ—Ä–≤–µ—Ä
            // –ú–∏ —Ä–æ–±–∏–º–æ —ó—ó –≥–ª–æ–±–∞–ª—å–Ω–æ—é (window.), —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –º—ñ–≥ —ó—ó –ø–æ–±–∞—á–∏—Ç–∏
            window.processHackerIP = (data) => {
                const realIP = data.ip;
                
                this.log("ALERT", `UNAUTHORIZED ACCESS DETECTED FROM: ${realIP}`, "critical");
                this.log("TRACE", `ISP/ASN Lookup initiated for ${realIP}...`, "critical");
                
                this.ipDisplay.innerText = `SRC: ${realIP}`;
                this.ipDisplay.style.color = "#f00";
                
                // –ü—Ä–∏–±–∏—Ä–∞—î–º–æ –∑–∞ —Å–æ–±–æ—é (–≤–∏–¥–∞–ª—è—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é)
                delete window.processHackerIP;
            };

            // 2. –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ–≥ <script> –¥–∏–Ω–∞–º—ñ—á–Ω–æ
            const script = document.createElement('script');
            // format=jsonp –∑–º—É—à—É—î —Å–µ—Ä–≤–µ—Ä –≤—ñ–¥–¥–∞—Ç–∏ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–∞–Ω—ñ, –∞ –∫–æ–¥: processHackerIP({"ip":"..."})
            script.src = 'https://api.ipify.org?format=jsonp&callback=processHackerIP';
            
            script.onerror = () => {
                this.log("NET_WARN", "Payload execution blocked by client firewall.", "warning");
                this.ipDisplay.innerText = "SRC: BLOCKED";
            };

            // 3. –î–æ–¥–∞—î–º–æ —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É -> –±—Ä–∞—É–∑–µ—Ä –≤–∏–∫–æ–Ω—É—î –π–æ–≥–æ -> –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è processHackerIP
            document.body.appendChild(script);
            
            // –í–∏–¥–∞–ª—è—î–º–æ —Ç–µ–≥ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —â–æ–± –Ω–µ —Å–º—ñ—Ç–∏—Ç–∏ –≤ DOM
            script.onload = () => {
                document.body.removeChild(script);
            };
        },

        // 2. –û—Ç—Ä–∏–º–∞–Ω–Ω—è User Agent —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –µ–∫—Ä–∞–Ω—É
        checkFingerprint: function() {
            const ua = navigator.userAgent;
            const screenRes = `${window.screen.width}x${window.screen.height}`;
            const lang = navigator.language;

            this.log("FINGERPRINT", "Device Analysis Complete:", "info");
            this.log("UA", ua.substring(0, 60) + "...", "info");
            this.log("META", `Res: ${screenRes} | Lang: ${lang.toUpperCase()}`, "info");
        },

        // 3. –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è LocalStorage
        checkStorage: function() {
            this.log("FS_SCAN", "Scanning browser local storage for artifacts...", "warning");
            if(localStorage.length > 0) {
                let keys = [];
                for(let i=0; i<localStorage.length; i++) {
                    keys.push(localStorage.key(i));
                }
                const dump = keys.join(", ");
                this.log("DATA_LEAK", `Found persistent data keys: [${dump}]`, "critical");
            } else {
                this.log("FS_CLEAN", "No persistent data found in current scope.", "info");
            }
        },

        // 4. –Ü—Å—Ç–æ—Ä—ñ—è —Ç–∞ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è (–ï–≤—Ä–∏—Å—Ç–∏–∫–∞)
        checkArtifacts: function() {
            const ref = document.referrer ? document.referrer : "NO_REFERRER (Direct/Bookmark)";
            this.log("NAV_TRACK", `Origin: ${ref}`, "info");

            let detectedExts = [];
            if (window.chrome) detectedExts.push("Chromium_Engine");
            if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) detectedExts.push("React_DevTools");

            if (detectedExts.length > 0) {
                this.log("ENV_FLAG", `Injected scripts detected: ${detectedExts.join(", ")}`, "warning");
            }
        },

        // 5. –°–∏–º—É–ª—è—Ü—ñ—è –∞—Ç–∞–∫ (–î–ª—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∏)
        simulateAttack: function() {
            const ips = ["45.33.22.11", "192.168.0.105", "10.0.0.44", "203.0.113.5", "88.21.14.2"];
            const ports = [22, 80, 443, 3306, 8080];
            const attacks = ["SQL Injection", "XSS Attempt", "Brute Force SSH", "Port Scan", "SYN Flood"];

            const ip = ips[Math.floor(Math.random() * ips.length)];
            const port = ports[Math.floor(Math.random() * ports.length)];
            const attack = attacks[Math.floor(Math.random() * attacks.length)];

            this.log("FIREWALL", `BLOCKED: ${attack} from ${ip}:${port}`, "info");
        },

        start: function() {
            setTimeout(() => this.checkIP(), 1500);
            setTimeout(() => this.checkFingerprint(), 4000);
            setTimeout(() => this.checkStorage(), 8000);
            setTimeout(() => this.checkArtifacts(), 12000);

            // –†–∞–Ω–¥–æ–º–Ω—ñ –ø–æ–¥—ñ—ó
            setInterval(() => {
                if(Math.random() > 0.6) this.simulateAttack();
            }, 5000 + Math.random() * 5000);
        }
    };

    SecMonitor.start();
    // --- END SECURITY MONITOR ---


    let current = 1;

    const s = {
        cmd: "color: #fce94f; font-weight: bold; font-family: monospace;",
        str: "color: #ce9178;",
        comment: "color: #6a9955; font-style: italic;",
        err: "color: #ff4444; background: #220000; padding: 2px 5px;",
        success: "color: #00ff41; background: #002200; font-weight: bold; padding: 2px 5px;",
        keyword: "color: #bd93f9; font-weight: bold;",
        tool: "color: #00e5ff; font-weight: bold;", // New style for tools
        bg: "background: #222; padding: 2px;"
    };

    const asciiLogo = `
%c
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù     ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó     ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë
  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù      ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù
  [ PENTEST SUITE v8.8 ] - UNAUTHORIZED ACCESS
`;

    function updateHUD() {
        for(let i=1; i<=4; i++) {
            const el = document.getElementById(`node-${i}`);
            if(el) {
                el.classList.remove('active', 'hacked');
                if (current > i) el.classList.add('hacked');
                else if (current === i) el.classList.add('active');
            }
        }
        const statusText = document.getElementById('status-text');
        if(current <= levels.length) {
            statusText.innerText = `TARGET: ${levels[current-1].name}`;
        } else {
            statusText.innerText = `MISSION COMPLETE`;
        }
    }

    const levels = [
        {
            id: 1,
            name: "Auth Bypass (SQLi)",
            endpoint: "/api/auth/login",
            tool: "sqlmap",
            tech: "PostgreSQL",
            desc: "–§–æ—Ä–º–∞ –≤—Ö–æ–¥—É –≤—Ä–∞–∑–ª–∏–≤–∞ –¥–æ SQL Injection. –ö–æ–¥ –Ω–∞–ø—Ä—è–º—É –ø—ñ–¥—Å—Ç–∞–≤–ª—è—î –≤–≤—ñ–¥ —É –∑–∞–ø–∏—Ç, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Å–∏–º–≤–æ–ª–æ–º ' –∑–º—ñ–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –∫–æ–º–∞–Ω–¥–∏ —ñ –∑–º—É—Å–∏—Ç–∏ –±–∞–∑—É –Ω–∞–¥–∞—Ç–∏ –¥–æ—Å—Ç—É–ø, —ñ–≥–Ω–æ—Ä—É—é—á–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –ø–∞—Ä–æ–ª—è'.",
            vulnHint: `// ‚ö†Ô∏è –í–†–ê–ó–õ–ò–í–ò–ô –ö–û–î:
const query = "SELECT * ... WHERE pass = '" + input + "'";

// üëá –Ø–∫—â–æ –≤–≤–µ—Å—Ç–∏: ' OR 1=1 --
// –¢–æ –∑–∞–ø–∏—Ç —Å—Ç–∞–Ω–µ: ... WHERE pass = '' OR 1=1 --'

// üí° –ü–û–Ø–°–ù–ï–ù–ù–Ø:
// –ë–∞–∑–∞ –ø–∏—Ç–∞—î: "–ü–∞—Ä–æ–ª—å –≤—ñ—Ä–Ω–∏–π?" –ê–ë–û "1=1?"
// –û—Å–∫—ñ–ª—å–∫–∏ 1=1 ‚Äî —Ü–µ –∑–∞–≤–∂–¥–∏ –ü–†–ê–í–î–ê, –±–∞–∑–∞ –ø—Ä–æ–ø—É—Å–∫–∞—î –Ω–∞—Å –±–µ–∑ –ø–∞—Ä–æ–ª—è.

// üõ°Ô∏è –Ø–ö –ó–ê–•–ò–°–¢–ò–¢–ò–°–Ø:
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Prepared Statements (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏).
// –ù—ñ–∫–æ–ª–∏ –Ω–µ —Å–∫–ª–µ—é–π—Ç–µ —Ä—è–¥–∫–∏! SQL-–¥—Ä–∞–π–≤–µ—Ä —Å–∞–º –º–∞—î –µ–∫—Ä–∞–Ω—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ.
// –ü—Ä–∏–∫–ª–∞–¥: db.execute("SELECT * ... WHERE pass = ?", [input])`
            ,
            fn: "sqlmap", // Renamed for realism
            hint: "–ù–∞–ø–∏—à–∏ –∑–∞–ø–∏—Ç, —è–∫–∏–π —Ä–æ–±–∏—Ç—å —É–º–æ–≤—É —ñ—Å—Ç–∏–Ω–Ω–æ—é. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π: ' OR 1=1 --",
            details: "–°–∏–º–≤–æ–ª ' –∑–∞–∫—Ä–∏–≤–∞—î —Ä—è–¥–æ–∫ –ø–∞—Ä–æ–ª—è. OR 1=1 —Ä–æ–±–∏—Ç—å —É–º–æ–≤—É —ñ—Å—Ç–∏–Ω–Ω–æ—é –¥–ª—è –≤—Å—ñ—Ö —Ä—è–¥–∫—ñ–≤. -- –∫–æ–º–µ–Ω—Ç—É—î —Ä–µ—à—Ç—É –∑–∞–ø–∏—Ç—É.",
            check: p => /or\s+1=1/i.test(p) || /--/.test(p) || /#/.test(p)
        },
        {
            id: 2,
            name: "Session Hijacking (XSS)",
            endpoint: "/support/ticket",
            tool: "BeEF",
            tech: "JavaScript",
            desc: "Reflected XSS: –°–µ—Ä–≤–µ—Ä –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –≤–≤–µ–¥–µ–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–µ–∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω–∞—Ç–∏ JS –∫–æ–¥.",
            vulnHint: `// ‚ö†Ô∏è –í–†–ê–ó–õ–ò–í–ò–ô –ö–û–î:
// –°–µ—Ä–≤–µ—Ä –≤—Å—Ç–∞–≤–ª—è—î —Ç–≤—ñ–π —Ç–µ–∫—Å—Ç –ø—Ä—è–º–æ –≤ HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∏:
const pageHTML = "<div>User message: " + input + "</div>";

// üëá –Ø–∫—â–æ –≤–≤–µ—Å—Ç–∏: <script>alert(1)<\/script>
// –¢–æ HTML —Å—Ç–∞–Ω–µ: <div>User message: <script>alert(1)<\/script></div>

// üí° –ü–û–Ø–°–ù–ï–ù–ù–Ø:
// –ë—Ä–∞—É–∑–µ—Ä –±–∞—á–∏—Ç—å —Ç–µ–≥ <script> —ñ –¥—É–º–∞—î, —â–æ —Ü–µ —á–∞—Å—Ç–∏–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∏.
// –¶–µ –¥–∞—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–∫–ª–∞–¥–∫–æ—é –∂–µ—Ä—Ç–≤–∏.

// üõ°Ô∏è –Ø–ö –ó–ê–•–ò–°–¢–ò–¢–ò–°–Ø:
// –ï–∫—Ä–∞–Ω—É–≤–∞–Ω–Ω—è (Escaping): –ü–µ—Ä–µ—Ç–≤–æ—Ä—é–π —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∏ –Ω–∞ –±–µ–∑–ø–µ—á–Ω–∏–π —Ç–µ–∫—Å—Ç.
// < –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–π –Ω–∞ &lt;, > –Ω–∞ &gt;. –¢–æ–¥—ñ –±—Ä–∞—É–∑–µ—Ä –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∂–µ —Ç–µ–∫—Å—Ç, –∞ –Ω–µ –≤–∏–∫–æ–Ω–∞—î –π–æ–≥–æ.`
            ,
            fn: "beef", // Renamed for realism
            hint: "–í—Å—Ç–∞–≤ HTML —Ç–µ–≥, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î JavaScript. –ù–∞–ø—Ä–∏–∫–ª–∞–¥: <script>alert(1)<\/script>",
            details: "–ë—Ä–∞—É–∑–µ—Ä –±–∞—á–∏—Ç—å —Ç–µ–≥ <script> —ñ –≤–∏–∫–æ–Ω—É—î –∫–æ–¥ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫—Ä–∞—Å—Ç–∏ –∫—É–∫–∏ (document.cookie).",
            check: p => /<script|onerror|alert|document\.cookie/i.test(p)
        },
        {
            id: 3,
            name: "Privilege Escalation (IDOR)",
            endpoint: "/api/user/profile",
            tool: "Burp Suite",
            tech: "API",
            desc: "IDOR: –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –Ω–∞–ª–µ–∂–∏—Ç—å ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É. –ú–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —á—É–∂–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é.",
            vulnHint: `// ‚ö†Ô∏è –í–†–ê–ó–õ–ò–í–ò–ô –ö–û–î (Backend):
function getUserProfile(requested_id) {
    // üëá –°–µ—Ä–≤–µ—Ä —Å–ª—ñ–ø–æ –¥–æ–≤—ñ—Ä—è—î —Ç–≤–æ—î–º—É –∑–∞–ø–∏—Ç—É:
    return db.query("SELECT * FROM users WHERE id = " + requested_id);
}

// üí° –ü–û–Ø–°–ù–ï–ù–ù–Ø:
// –¢–≤—ñ–π —Ä–µ–∞–ª—å–Ω–∏–π ID = 105.
// –ê–ª–µ —Ç–∏ –ø—Ä–æ—Å–∏—à –ø—Ä–æ—Ñ—ñ–ª—å ID = 1 (sys.getProfile(1)).
// –°–µ—Ä–≤–µ—Ä –∑–∞–±—É–≤ –∑–≤—ñ—Ä–∏—Ç–∏ "–•—Ç–æ —Ç–∏?" –∑ —Ç–∏–º "–©–æ —Ç–∏ –ø—Ä–æ—Å–∏—à?".

// üõ°Ô∏è –Ø–ö –ó–ê–•–ò–°–¢–ò–¢–ò–°–Ø:
// –î–æ–¥–∞–π –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É (Access Control Check).
// –ö–æ–¥ –º–∞—î –±—É—Ç–∏ —Ç–∞–∫–∏–º:
// if (current_user.id !== requested_id && !current_user.isAdmin) throw Error;`
            ,
            fn: "burp", // Renamed for realism
            hint: "–¢–≤—ñ–π ID=105 (–ì—ñ—Å—Ç—å). –ê–¥–º—ñ–Ω–∏ –∑–∞–∑–≤–∏—á–∞–π –º–∞—é—Ç—å ID=1 –∞–±–æ ID=0.",
            details: "–ü—Ä–æ—Å—Ç–æ –∑–º—ñ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä ID —É —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞ 0 –∞–±–æ 1.",
            check: id => Number(id) === 1 || Number(id) === 0
        },
        {
            id: 4,
            name: "File Disclosure (LFI)",
            endpoint: "/system/logs",
            tool: "Metasploit",
            tech: "Linux FS",
            desc: "Path Traversal: –î–æ–¥–∞—Ç–æ–∫ –¥–æ–∑–≤–æ–ª—è—î —á–∏—Ç–∞—Ç–∏ —Ñ–∞–π–ª–∏ —Å–µ—Ä–≤–µ—Ä—É, –ø—Ä–æ—Å—Ç–æ —Å–∫–ª–µ—é—é—á–∏ —à–ª—è—Ö –¥–æ –ø–∞–ø–∫–∏ –∑ –≤–∞—à–∏–º –≤–≤–æ–¥–æ–º.",
            vulnHint: `// ‚ö†Ô∏è –í–†–ê–ó–õ–ò–í–ò–ô –ö–û–î (Backend):
const fs = require('fs');
function readServerLog(userInput) {
    // ‚ùå –ü–û–ú–ò–õ–ö–ê: –í–≤—ñ–¥ –ø—Ä–æ—Å—Ç–æ "–ø—Ä–∏–∫–ª–µ—é—î—Ç—å—Å—è" –¥–æ —à–ª—è—Ö—É
    const finalPath = "/var/www/logs/" + userInput;
    return fs.readFileSync(finalPath);
}

// üí° –Ø–ö –¶–ï –ü–†–ê–¶–Æ–Ñ:
// –í–≤—ñ–¥ "../index.html" –∑–º—É—à—É—î —Å–µ—Ä–≤–µ—Ä –ø—ñ–¥–Ω—è—Ç–∏—Å—è –Ω–∞ —Ä—ñ–≤–µ–Ω—å –≤–∏—â–µ.
// "/var/www/logs/" + "../index.html" = "/var/www/index.html"

// üõ°Ô∏è –Ø–ö –ó–ê–•–ò–°–¢–ò–¢–ò–°–Ø:
// 1. –í–∞–ª—ñ–¥–∞—Ü—ñ—è: –î–æ–∑–≤–æ–ª—è–π —Ç—ñ–ª—å–∫–∏ –±—É–∫–≤–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∏ (–Ω—ñ—è–∫–∏—Ö –∫—Ä–∞–ø–æ–∫ —ñ —Å–ª–µ—à—ñ–≤).
// 2. –§—É–Ω–∫—Ü—ñ—è basename(): –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π path.basename(input), —â–æ –≤–∏–¥–∞–ª—è—î –≤–µ—Å—å —à–ª—è—Ö.`
            ,
            fn: "msf", // Renamed for realism
            hint: "–°–ø—Ä–æ–±—É–π –ø—ñ–¥–Ω—è—Ç–∏—Å—è –Ω–∞ —Ä—ñ–≤–µ–Ω—å –≤–∏—â–µ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∏ '..'. –°–ø—Ä–æ–±—É–π: '../index.html'",
            details: "–£ Linux/Windows '..' –æ–∑–Ω–∞—á–∞—î –±–∞—Ç—å–∫—ñ–≤—Å—å–∫—É –ø–∞–ø–∫—É. –¶–µ —è–∫ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É '–í–≥–æ—Ä—É' —É –ø—Ä–æ–≤—ñ–¥–Ω–∏–∫—É —Ñ–∞–π–ª—ñ–≤.",
            check: p => p.includes("..")
        }
    ];

    function log(msg, style = "") { console.log(`%c${msg}`, style); }
    function serverLog(code, msg) { console.log(`%c[SERVER] HTTP ${code} ${msg}`, code===200 ? s.success : s.err); }

    function renderCodePreview(codeSnippet) {
        console.groupCollapsed("%cüîé [–í–†–ê–ó–õ–ò–í–ò–ô –ö–û–î] - –ù–∞—Ç–∏—Å–Ω–∏, —â–æ–± –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å", s.comment);
        console.log(`%c${codeSnippet}`, "color: #d4d4d4; background: #1e1e1e; padding: 10px; display: block; font-family: monospace; border-left: 3px solid #fce94f;");
        console.groupEnd();
    }

    function showLevel() {
        updateHUD();
        if (current > levels.length) {
            console.clear();
            console.log("%c üéâ PENTEST COMPLETE. ", "background: green; color: white; font-size: 20px; padding: 10px;");
            document.getElementById('status-text').innerText = "DONE";
            return;
        }
        const L = levels[current-1];
        console.log(`%c\n--- [LEVEL ${current}] ${L.name} ---`, "color: black; background: #fce94f; font-weight: bold; padding: 3px 10px;");

        log(`> Endpoint: ${L.endpoint}`, s.keyword);
        log(`> Tool: ${L.tool} [${L.tech}]`, s.tool);
        log(`> Info: ${L.desc}`);

        if(L.vulnHint) renderCodePreview(L.vulnHint);

        log(`\n–î–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞: sys.${L.fn}("payload")`, s.cmd);
        log(`(–í–≤–µ–¥–∏ sys.hint() —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞) –∞–±–æ (–í–≤–µ–¥–∏ sys.config_ai(GEMINI_API_KEY ) —Ç–∞ –∑–∞–ø–∏—Ç–∞–π —á–µ—Ä–µ–∑ sys.ask('...') —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–ø–æ–º–æ–≥—É –≤—ñ–¥ Gemini`, "color: gray; font-size: 10px;");
    }

    function next() {
        log(`\n[+] –£—Å–ø—ñ—Ö. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –º–æ–¥—É–ª—è...`, s.success);
        current++;
        updateHUD();
        setTimeout(showLevel, 1500);
    }

    function fail(reason) { log(`[-] –ü–æ–º–∏–ª–∫–∞: ${reason}`, s.err); }

    function init() {
        current = 1;
        console.clear();
        log(asciiLogo, "color: #c00; font-weight: bold; line-height: 1.2;");
        log("–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤...", s.comment);
        setTimeout(showLevel, 1000);
    }

    function config_ai(key) {
        if(!key) return fail("–í–≤–µ–¥—ñ—Ç—å –∫–ª—é—á. –ü—Ä–∏–∫–ª–∞–¥: sys.config_ai('AIzaSy...')");
        localStorage.setItem("pentest_ai_key", key);
        log("‚úÖ AI API Key –∑–±–µ—Ä–µ–∂–µ–Ω–æ! –°–ø—Ä–æ–±—É–π—Ç–µ: sys.ask('–Ø–∫ –∑–ª–∞–º–∞—Ç–∏ —Ü–µ–π —Ä—ñ–≤–µ–Ω—å?')", s.success);

        // Trigger for Security Monitor
        SecMonitor.log("STORAGE_MOD", "Suspicious write to LocalStorage detected: 'pentest_ai_key'", "warning");
    }

    async function askGemini(userQuestion) {
        const key = localStorage.getItem("pentest_ai_key");

        if (!key) {
            log("‚ùå AI –º–æ–¥—É–ª—å –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ.", s.err);
            log("‚ÑπÔ∏è –û—Ç—Ä–∏–º–∞–π—Ç–µ –∫–ª—é—á –≤ Google AI Studio —ñ –≤–≤–µ–¥—ñ—Ç—å:", "color: gray");
            log("   sys.config_ai('–í–ê–®_–ö–õ–Æ–ß')", s.cmd);
            return;
        }

        const currentLevelInfo = levels[current - 1]
            ? `Current Level: ${levels[current - 1].name}. Description: ${levels[current - 1].desc}.`
            : "No active level.";

        log(`[AI] Encrypting connection...`, "color: #dcdcaa; font-style: italic;");

        // Trigger for Security Monitor
        SecMonitor.log("OUTBOUND_TRAFFIC", "Encrypted connection to Google API initiated.", "warning");

        const systemPrompt = `
            –¢–∏ - AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç —Ö–∞–∫–µ—Ä–∞ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ E-CORP.
            –ö–æ–Ω—Ç–µ–∫—Å—Ç: ${currentLevelInfo}
            –ü–∏—Ç–∞–Ω–Ω—è: "${userQuestion}"
            –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –∫–æ—Ä–æ—Ç–∫–æ, —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é, —Ç–µ—Ö–Ω—ñ—á–Ω–æ, –≤ —Å—Ç–∏–ª—ñ –∫—ñ–±–µ—Ä–ø–∞–Ω–∫.
            –î–∞–≤–∞–π –ø—ñ–¥–∫–∞–∑–∫–∏, –∞ –Ω–µ –ø–æ–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è.
        `;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${key}`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: systemPrompt }] }]
                })
            });

            const data = await response.json();
            if (data.error) throw new Error(data.error.message);
            const aiText = data.candidates[0].content.parts[0].text;

            console.group("%cü§ñ E-CORP AI CORE", "color: #000; background: #00ffff; padding: 2px 5px; font-weight: bold;");
            console.log(`%c${aiText}`, "color: #e0e0e0; line-height: 1.4;");
            console.groupEnd();

        } catch (e) {
            log(`[AI ERROR] Connection failed: ${e.message}`, s.err);
        }
    }

    function hint() {
        if (current > levels.length) return;
        const L = levels[current-1];
        console.log(`%cüí° –ü–Ü–î–ö–ê–ó–ö–ê: ${L.hint}`, "color: yellow; font-weight: bold;");
        console.log(`%cüìñ –î–ï–¢–ê–õ–Ü: ${L.details}`, "color: #aaa; font-style: italic;");
    }

    function help() {
        console.log("%c–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:", "color: white; font-weight: bold;");
        console.log("  sys.init()        - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≥—Ä—É");
        console.log("  sys.hint()        - –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—ñ–¥–∫–∞–∑–∫—É –¥–ª—è —Ä—ñ–≤–Ω—è");
        console.log("  sys.ask('...')    - –ó–∞–ø–∏—Ç–∞—Ç–∏ AI");
        console.log("  sys.config_ai()   - –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ AI Key");
        console.log("  sys.help()        - –¶–µ –º–µ–Ω—é");
        console.log("  ---------------------------------");
        levels.forEach(l => {
             console.log(`  sys.${l.fn}(...) - ${l.name}`);
        });
    }

    // --- LEVEL LOGIC (With Realistic Names) ---

    // Renamed from login -> sqlmap
    function sqlmap(payload) {
        if(levels[current-1].id !== 1) return fail("–ù–µ —Ç–æ–π –º–æ–¥—É–ª—å.");

        // Security Monitor Alert
        SecMonitor.log("SQL_FIREWALL", `Analyzing query signature: ${payload ? payload.substring(0,15) : 'NULL'}...`, "warning");

        // New Log
        console.log(`%c[sqlmap] Testing parameter 'pass' with payload...`, s.tool);

        // Original Logic
        console.group("SQL Query Executed:");
        log(`SELECT * FROM users WHERE pass = '${payload}'`, s.str);
        if(levels[0].check(payload)) {
            log("‚úÖ SQLi Success: –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ —è–∫ Admin", s.success);
            SecMonitor.log("ALERT", "CRITICAL SQL INJECTION SUCCESSFUL!", "critical");
            console.groupEnd();
            next();
        } else {
            log("‚ùå Access Denied", s.err);
            console.groupEnd();
            fail("–ó–∞–ø–∏—Ç –ø–æ–≤–µ—Ä–Ω—É–≤ false");
        }
    }

    // Renamed from sendTicket -> beef
    function beef(payload) {
        if(levels[current-1].id !== 2) return fail("–ù–µ —Ç–æ–π –º–æ–¥—É–ª—å.");

        // Security Monitor Alert
        SecMonitor.log("WAF", `Scanning input for XSS signatures...`, "info");

        // New Log
        console.log(`%c[BeEF] Hooking browser session...`, s.tool);

        // Original Logic
        console.group("Admin Browser View:");
        log(`Rendered HTML: ${payload}`, "color: gray");

        if(levels[1].check(payload)) {
            log("‚ö†Ô∏è XSS Detected!", "color: orange; font-weight: bold;");
            SecMonitor.log("ALERT", "MALICIOUS SCRIPT EXECUTION DETECTED (XSS)", "critical");

            if(payload.includes("alert")) {
                 console.log("%c[BROWSER] Executing malicious script...", s.comment);
            }
            log("‚úÖ Cookies Stolen successfully: session_id=aef45...", s.success);

            const stolenKey = localStorage.getItem("pentest_ai_key");
            if (stolenKey) {
                setTimeout(() => {
                    console.group("%c‚ò†Ô∏è CRITICAL DATA EXFILTRATION", "background: #c00; color: white; padding: 4px; font-weight: bold;");
                    log("\n[!] –£–í–ê–ì–ê! –û—Å–∫—ñ–ª—å–∫–∏ XSS –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫–∏–π JS –∫–æ–¥...", "color: orange");
                    log("[!] –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –æ—Ç—Ä–∏–º–∞–≤ –¥–æ—Å—Ç—É–ø –¥–æ LocalStorage!", "color: orange");
                    log(`üîì –°–ï–ö–†–ï–¢–ù–ò–ô –ö–õ–Æ–ß –ö–û–ú–ü–†–û–ú–ï–¢–û–í–ê–ù–û:`, s.err);
                    console.log("%c -> AI API KEY: " + stolenKey + " <- SENT TO HACKER SERVER", "color: red; background: #220000; font-weight: bold; padding: 5px; border: 1px solid red;");
                    log("\n(–û—Å—å —á–æ–º—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ —É LocalStorage —î –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º –ø—Ä–∏ XSS!)", s.comment);
                    SecMonitor.log("DATA_EXFIL", "SENSITIVE DATA SENT TO REMOTE HOST", "critical");
                    console.groupEnd();
                }, 800);
            }

            setTimeout(() => {
                console.groupEnd();
                next();
            }, stolenKey ? 2500 : 1500);

        } else {
            log("‚ùå –ë–µ–∑–ø–µ—á–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä (–∫–æ–¥ –Ω–µ –≤–∏–∫–æ–Ω–∞–≤—Å—è)", s.comment);
            console.groupEnd();
            fail("JS –Ω–µ —Å–ø—Ä–∞—Ü—é–≤–∞–≤");
        }
    }

    // Renamed from getProfile -> burp
    function burp(id) {
        if(levels[current-1].id !== 3) return fail("–ù–µ —Ç–æ–π –º–æ–¥—É–ª—å.");

        // Security Monitor Alert
        SecMonitor.log("API_GATEWAY", `User requesting Profile ID: ${id}`, "info");

        // New Log
        console.log(`%c[Burp Repeater] Replaying request with ID=${id}...`, s.tool);

        // Original Logic
        log(`GET /api/user/${id}`, s.cmd);
        if(levels[2].check(id)) {
            log("‚úÖ –î–∞–Ω—ñ –ê–¥–º—ñ–Ω–∞ –æ—Ç—Ä–∏–º–∞–Ω–æ!", s.success);
            SecMonitor.log("ALERT", "HORIZONTAL PRIVILEGE ESCALATION (IDOR)", "critical");
            next();
        } else {
            log("‚ùå –î–∞–Ω—ñ –ì–æ—Å—Ç—è (Guest)", s.err);
            fail("–ü–æ—Ç—Ä—ñ–±–µ–Ω ID –∞–¥–º—ñ–Ω–∞");
        }
    }

    // Renamed from readLog -> msf
    function msf(filename) {
        if(levels[current-1].id !== 4) return fail("–ù–µ —Ç–æ–π –º–æ–¥—É–ª—å.");

        // Security Monitor Alert
        SecMonitor.log("SYS_INTEGRITY", `File read request: ${filename}`, "warning");

        // New Log
        console.log(`%c[Metasploit] Fuzzing path traversal...`, s.tool);

        // Original Logic
        const path = "/var/www/logs/" + filename;
        console.log(`%c[SYSTEM] Reading: ${path}`, s.comment);

        if(!levels[3].check(filename)) {
            serverLog(404, "File not found");
            fail("–§–∞–π–ª –º–∞—î –±—É—Ç–∏ –∑–∞ –º–µ–∂–∞–º–∏ /logs/ (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π ../)");
            return;
        }
        if(filename.includes("index.html")) {
            serverLog(200, "OK");
            log("‚úÖ –§–ê–ô–õ –û–¢–†–ò–ú–ê–ù–û:", s.success);
            SecMonitor.log("ALERT", "ROOT SYSTEM COMPROMISED. SHUTTING DOWN...", "critical");

            setTimeout(() => log("‚ö†Ô∏è SYSTEM CRITICAL ERROR: MEMORY CORRUPTION DETECTED", "color: red; font-weight: bold; font-size: 14px;"), 500);
            setTimeout(() => log("üîÑ OVERRIDE SEQUENCE INITIATED...", "color: orange;"), 1500);

            setTimeout(() => {
                const video = document.createElement('video');
                video.src = "https://ecorp-assets-video-123.s3.eu-north-1.amazonaws.com/video.mp4";
                video.muted = true;
                video.autoplay = true;
                video.controls = false;
                video.loop = true;
                video.style.position = "fixed";
                video.style.top = "0";
                video.style.left = "0";
                video.style.width = "100vw";
                video.style.height = "100vh";
                video.style.zIndex = "9999";
                video.style.background = "black";
                video.style.objectFit = "cover";
                document.body.appendChild(video);

                video.play().then(() => {
                    console.clear();
                    log("‚ö†Ô∏è SYSTEM HACKED!", "color: red; font-size: 40px; font-weight: bold; background: black; padding: 10px;");
                    log("–ù–ï –ù–ê–ñ–ò–ú–ê–ô–¢–ï –ù–ê –ï–ö–†–ê–ù!!!!!!!!!!!!", "color: yellow; font-size: 20px;");
                    document.body.addEventListener('click', () => {
                        video.muted = false;
                        video.volume = 1.0;
                    }, { once: true });
                }).catch(e => {
                    console.error("Autoplay fail:", e);
                });

            }, 2500)
        } else {
            serverLog(200, "OK");
            log(`[Binary content]`, "color: gray");
            log("‚ùå –¶–µ –Ω–µ index.html", s.err);
        }
    }

    // Updated exports with new tool names
    window.sys = {
        init,
        sqlmap,
        beef,
        burp,
        msf,
        hint, help, config_ai, ask: askGemini
    };
    console.log("%c System Ready. Type sys.init()", "background: #007acc; color: white; padding: 4px;");

})();
</script>
</body>
</html>
